{% extends "baseControl.html" %}
{% load static %}
<!--Css del template-->
{% block css %}
<link href="{% static 'css/fullCalendar.min.css' %}" rel="stylesheet" />
<script src="{% static 'js/fullCalendar.min.js' %}"></script>
<script src="{% static 'js/fullCalendar-es.js' %}"></script>

{% endblock %}
<!--Titulo-->
{% block titulo %} Agenda {% endblock %}
{% block content %}
<div class="container-fluid">
  <div class="row">
    <div id='calendar'></div>
  </div>
</div>
{% endblock %}
<!--Js de la vista-->
{% block js %}
<script src="{% static 'js/sistemaClinico.js' %}"></script>

<script>
    $( "#side_agenda" ).addClass( "active" );

</script>
<script>
    
    //Recueprndo Fecha Actual
    const hoy = new Date();
    function formatoFecha(fecha, formato) {
    }
    formatoFecha(hoy, 'yy/mm/dd');

    document.addEventListener('DOMContentLoaded', function() {
      var calendarEl = document.getElementById('calendar');
  
      var calendar = new FullCalendar.Calendar(calendarEl, {
        locale: 'es',
        headerToolbar: {
          left: 'prev,next today',
          center: 'title',
          right: 'dayGridMonth,timeGridWeek,listDay,listWeek'
        },
        initialDate: hoy,
        initialView: 'dayGridMonth',
        navLinks: true, // can click day/week names to navigate views
        businessHours: true, // display business hours
        editable: true,
        selectable: true,

        views: {
        listDay: { buttonText: 'Citas del d√≠a' },
        listWeek: { buttonText: 'Citas de la semana' },
        listMonth: { buttonText: 'list month' }
        },

        events:[
          {
            title: 'Business Lunch',
            start: '2022-07-03T13:00:00',
            constraint: 'businessHours'
          },
          {
            title: 'Meeting',
            start: '2022-07-13T11:00:00',
            constraint: 'availableForMeeting', // defined below
            color: '#257e4a'
          },
          {
            title: 'Conference',
            start: '2022-07-18',
            end: '2022-07-20'
          },
          {
            title: 'Party',
            start: '2022-07-29T20:00:00'
          },
  
          // areas where "Meeting" must be dropped
          {
            groupId: 'availableForMeeting',
            start: '2022-07-11T10:00:00',
            end: '2022-07-11T16:00:00',
            display: 'background'
          },
          {
            groupId: 'availableForMeeting',
            start: '2022-07-13T10:00:00',
            end: '2022-07-13T16:00:00',
            display: 'background'
          },
  
          // red areas where no events can be dropped
          {
            start: '2022-07-24',
            end: '2022-07-28',
            overlap: false,
            display: 'background',
            color: '#ff9f89'
          },
          {
            start: '2022-07-06',
            end: '2022-07-08',
            overlap: false,
            display: 'background',
            color: '#ff9f89'
          }
        ]
      });
      
      calendar.addEvent({
            title: 'Business Lunch II',
            start: '2022-07-05T13:00:00',
            constraint: 'businessHours'
          })
      calendar.render();
    });
  
</script>
{% endblock %}
