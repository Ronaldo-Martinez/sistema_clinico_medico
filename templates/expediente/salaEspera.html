{% extends "baseControl.html" %}
{% load static %}
<!--Css del template-->
{% block css %}
<link href="{% static 'css/jquery-ui.min.css' %}" rel="stylesheet" />
<script src="{% static 'js/jquery-3.5.1.min.js' %}"></script>
{% endblock %}
<!--Titulo-->
{% block titulo %} Sala de Espera {% endblock %}
{% block content %}
<div class="container py-4 ">
    <h1 class="fw-bold">Sala de Espera</h1>
    <div class="row">
        <div class="col-12 col-md-6">
            <!--Busqueda por nombres-->
            <div class="input-group  py-4">
                <span class="input-group-text bg-white" id="basic-addon1"><i class="fa-solid fa-magnifying-glass"></i></span>
                <input type="text" class="form-control" id="busquedaNombres" placeholder="Nombres" aria-label="Nombres" aria-describedby="basic-addon1">
                <button class="btn btn-outline-secondary" type="button" id="buscar-nombre">Buscar</button>
            </div>
        </div>
        <div class="col-12 col-md-6">
            <!--Busqueda Apellidos-->
            <div class="input-group mb-3 py-4">
                <span class="input-group-text bg-white" id="basic-addon1"><i class="fa-solid fa-magnifying-glass"></i></span>
                <input type="text" class="form-control" id="busquedaApellidos" placeholder="Apellidos" aria-label="Apellido" aria-describedby="basic-addon1">
                <button class="btn btn-outline-secondary" type="button" id="buscar-nombre">Buscar</button>
            </div>
        
        </div>
    </div>
    
</div>
{% endblock %}
<!--Js de la vista-->
{% block js %}
<script src="{% static 'js/jquery-ui.min.js' %}"></script>
<script>
    
    $('#busquedaNombres').autocomplete({
        source: function(request, response){
            $.ajax({
                url: "{% url 'busqueda_paciente' %}",
                dataType: "json",
                data: {
                    nombre_paciente:request.term,
                },
                success: function(data){
                    
                    response(data)
                }
            });
        },
        minLength: 3,
        
    });

    $('#busquedaApellidos').autocomplete({
        source: function(request, response){
            $.ajax({
                url: "{% url 'busqueda_paciente' %}",
                dataType: "json",
                data: {
                    apellido_paciente:request.term,
                },
                success: function(data){
                    
                    response(data)
                }
            });
        }
    });
</script>
{% endblock %}
